tinymce.PluginManager.add("menuscontroller",function(a){function b(){var a=".mce-container.mce-panel.mce-floatpanel.mce-menu",b=document.querySelector("body"),c=new MutationObserver(function(b){b.forEach(function(b){var c=$(b.addedNodes).filter(a);if(c.length){if(c.length>1)throw new Error("ERROR: there is many menus rendered ! This case is not implemented !");var d=$.Event("app:mceMenuRendered");$("body").trigger(d,c[0])}})}),d={childList:!0};c.observe(b,d)}function c(){for(var b=a.theme.panel.settings.items,c=0;c<b.length;c++){var d=b[c];if("menubar"===d.type)return d.items}}function d(a){try{for(var b=c(),d=0;d<b.length;d++){var e=b[d];if(e.text.toLowerCase()===a.toLowerCase())return e}}catch(f){throw new Error("Can't find the menu "+a+" in menu bar")}}function e(){for(var b=a.theme.panel.settings.items,c=0;c<b.length;c++){var d=b[c];if("panel"===d.type&&"toolbar-grp"===d.classes)return d.items}}$("body").on("app:mceMenuRendered",function(a,b){$(b).find(".mce-menu-item").each(function(a,c){$(b).trigger("app:mceMenuItemRendered:"+$(c).attr("id"))})}),b(),this.getMenubar=c,this.getMenuByName=d,this.getToolbars=e});